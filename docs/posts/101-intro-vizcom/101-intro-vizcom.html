<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Marc Vandemeulebroecke">
<meta name="author" content="Mark Baillie">
<meta name="author" content="Alison Margolskee">
<meta name="author" content="Baldur Magnusson">
<meta name="dcterms.date" content="2023-12-19">
<meta name="description" content="A tutorial on effective visual communication for the quantitative scientist.">

<title>case studies - Effective visual communication</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">graphics principles</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://graphicsprinciples.github.io/" rel="" target="">
 <span class="menu-text">home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://graphicsprinciples.github.io/threelaws.html" rel="" target="">
 <span class="menu-text">three laws</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://graphicsprinciples.github.io/cheatsheet.html" rel="" target="">
 <span class="menu-text">cheat sheet</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://graphicsprinciples.github.io/tutorial.html" rel="" target="">
 <span class="menu-text">tutorial</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">case studies</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://graphicsprinciples.github.io/qbv.html" rel="" target="">
 <span class="menu-text">QBV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://graphicsprinciples.github.io/gallery/" rel="" target="">
 <span class="menu-text">blog</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://graphicsprinciples.github.io/resources.html" rel="" target="">
 <span class="menu-text">resources &amp; references</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://graphicsprinciples.github.io/initiative.html" rel="" target="">
 <span class="menu-text">about</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/GraphicsPrinciples" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-evc" id="toc-what-is-evc" class="nav-link active" data-scroll-target="#what-is-evc">What is EVC?</a></li>
  <li><a href="#the-three-laws" id="toc-the-three-laws" class="nav-link" data-scroll-target="#the-three-laws">The three laws</a></li>
  <li><a href="#cheat-sheet-and-hands-on-tutorial" id="toc-cheat-sheet-and-hands-on-tutorial" class="nav-link" data-scroll-target="#cheat-sheet-and-hands-on-tutorial">Cheat sheet and hands-on tutorial</a></li>
  <li><a href="#were-to-find-out-more" id="toc-were-to-find-out-more" class="nav-link" data-scroll-target="#were-to-find-out-more">Were to find out more</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/GraphicsPrinciples/tutorial-case-studies/edit/main/posts/101-intro-vizcom/101-intro-vizcom.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/GraphicsPrinciples/tutorial-case-studies/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Effective visual communication</h1>
  <div class="quarto-categories">
    <div class="quarto-category">introduction</div>
    <div class="quarto-category">EVC</div>
  </div>
  </div>

<div>
  <div class="description">
    A tutorial on effective visual communication for the quantitative scientist.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p><a href="https://graphicsprinciples.github.io/">Marc Vandemeulebroecke</a> </p>
             <p><a href="https://graphicsprinciples.github.io/">Mark Baillie</a> </p>
             <p><a href="https://graphicsprinciples.github.io/">Alison Margolskee</a> </p>
             <p><a href="https://graphicsprinciples.github.io/">Baldur Magnusson</a> </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 19, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="what-is-evc" class="level2">
<h2 class="anchored" data-anchor-id="what-is-evc">What is EVC?</h2>
<p>Effective visual communication is a core competency for pharmacometricians, statisticians, and more generally any quantitative scientist. It is essential in every step of a quantitative workflow, from scoping to execution and communicating results and conclusions. With this competency, we can better understand data and influence decisions towards appropriate actions. Without it, we can fool ourselves and others and pave the way to wrong conclusions and actions. The goal of this tutorial is to convey this competency.</p>
</section>
<section id="the-three-laws" class="level2">
<h2 class="anchored" data-anchor-id="the-three-laws">The three laws</h2>
<p>We posit three laws of effective visual communication for the quantitative scientist:</p>
<ul>
<li>have a clear purpose,</li>
<li>show the data clearly,</li>
<li>and make the message obvious.</li>
</ul>
</section>
<section id="cheat-sheet-and-hands-on-tutorial" class="level2">
<h2 class="anchored" data-anchor-id="cheat-sheet-and-hands-on-tutorial">Cheat sheet and hands-on tutorial</h2>
<p>We defined the <a href="https://graphicsprinciples.github.io/tutorial-case-studies/posts/201-three-laws-vizcom/">three laws of effective visual communication</a> to provide overarching principled advice that can serve as a guiding star towards effective visual communication for the quantitative scientist. A concise <a href="https://github.com/GraphicsPrinciples/CheatSheet/blob/master/NVSCheatSheet.pdf">Cheat Sheet</a>, distills more granular recommendations for everyday practical use. Finally, these laws and recommendations are illustrated in four case studies. The aim of this site is to provide both the code, data and examples as stand alone posts. We hope that it proves useful for putting the three laws into practice.</p>
<p>To further ease implementation in practice, it helps to distill the three laws in to even more detailed recommendations and illustrate them concretely. This is why we introduced a <a href="https://github.com/GraphicsPrinciples/CheatSheet/blob/master/NVSCheatSheet.pdf">cheat Sheet</a>. This single-page reference sheet is an integral part of this tutorial, carefully designed as a concise and accessible resource for everyday practical use. Yet, it draws from a wide range of sources including <span class="citation" data-cites="Bonate2014 Doumont2002 Cairo:2016 Few:2012 Ware:2004 Wong2010PointsOV doumont2009trees Heer:2010 Tufte1986 Gelman2013 Wong2010 wong2010wall Tufte1997 Wainer1984 munzner2015visualization Cleveland1985 Cleveland.McGill1985 Cleveland1987 Wilkinson:2005 tukey77 Duke2015 Robbins2012">(<a href="#ref-Bonate2014" role="doc-biblioref">Bonate 2014</a>; <a href="#ref-Doumont2002" role="doc-biblioref">Jean L. Doumont 2002</a>; <a href="#ref-Cairo:2016" role="doc-biblioref">Cairo 2016</a>; <a href="#ref-Few:2012" role="doc-biblioref">Few 2012</a>; <a href="#ref-Ware:2004" role="doc-biblioref">Ware 2004</a>; <a href="#ref-Wong2010PointsOV" role="doc-biblioref">B. Wong 2010</a>, <a href="#ref-Wong2010" role="doc-biblioref">2011</a>; <a href="#ref-doumont2009trees" role="doc-biblioref">J. L. Doumont 2009</a>; <a href="#ref-Heer:2010" role="doc-biblioref">Heer and Bostock 2010</a>; <a href="#ref-Tufte1986" role="doc-biblioref">Tufte 1986</a>, <a href="#ref-Tufte1997" role="doc-biblioref">1997</a>; <a href="#ref-Gelman2013" role="doc-biblioref">Gelman and Unwin 2013</a>; <a href="#ref-wong2010wall" role="doc-biblioref">D. M. Wong 2010</a>; <a href="#ref-Wainer1984" role="doc-biblioref">Wainer 1984</a>; <a href="#ref-munzner2015visualization" role="doc-biblioref">Munzner 2015</a>; <a href="#ref-Cleveland1985" role="doc-biblioref">Cleveland 1985</a>; <a href="#ref-Cleveland.McGill1985" role="doc-biblioref">Cleveland and McGill 1985</a>, <a href="#ref-Cleveland1987" role="doc-biblioref">1987</a>; <a href="#ref-Wilkinson:2005" role="doc-biblioref">Wilkinson 2005</a>; <a href="#ref-tukey77" role="doc-biblioref">Tukey 1977</a>; <a href="#ref-Duke2015" role="doc-biblioref">Duke et al. 2015</a>; <a href="#ref-Robbins2012" role="doc-biblioref">Robbins 2012</a>)</span>.</p>
</section>
<section id="were-to-find-out-more" class="level2">
<h2 class="anchored" data-anchor-id="were-to-find-out-more">Were to find out more</h2>
<p>The full version is <a href="https://graphicsprinciples.github.io">available</a> along with corresponding <a href="https://github.com/GraphicsPrinciples/CheatSheet">programming code in R</a>.</p>
<p>The full published tutorial can is available and online at <a href="https://ascpt.onlinelibrary.wiley.com/doi/10.1002/psp4.12455">CPT:PSP here</a>.</p>
<p>A pre-print of the complete tutorial can also be found at: https://arxiv.org/abs/1903.09512</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-Bonate2014" class="csl-entry" role="listitem">
Bonate, Peter L. 2014. <em>Be a Model Communicator and Sell Your Models to Anyone</em>. Published by Peter Bonate. <a href="https://www.amazon.com/Be-Model-Communicator-Models-2014-10-06/dp/B01LP3SHNM">https://www.amazon.com/Be-Model-Communicator-Models-2014-10-06/dp/B01LP3SHNM</a>.
</div>
<div id="ref-Cairo:2016" class="csl-entry" role="listitem">
Cairo, Alberto. 2016. <em>The Truthful Art: Data, Charts, and Maps for Communication</em>. 1st ed. Thousand Oaks, CA, USA: New Riders Publishing.
</div>
<div id="ref-Cleveland1985" class="csl-entry" role="listitem">
Cleveland, William S. 1985. <em>The Elements of Graphing Data</em>. Belmont, CA, USA: Wadsworth Publ. Co.
</div>
<div id="ref-Cleveland.McGill1985" class="csl-entry" role="listitem">
Cleveland, William S., and Robert McGill. 1985. <span>“Graphical Perception and Graphical Methods for Analyzing Scientific Data.”</span> <em>Science</em> 229 (4716): 828–33. <a href="https://doi.org/10.1126/science.229.4716.828">https://doi.org/10.1126/science.229.4716.828</a>.
</div>
<div id="ref-Cleveland1987" class="csl-entry" role="listitem">
———. 1987. <span>“Graphical Perception: The Visual Decoding of Quantitative Information on Graphical Displays of Data.”</span> <em>Journal of the Royal Statistical Society Series A</em> 150 (3): 192–229. <a href="http://www.jstor.org/stable/2981473">http://www.jstor.org/stable/2981473</a>.
</div>
<div id="ref-doumont2009trees" class="csl-entry" role="listitem">
Doumont, J. L. 2009. <em>Trees, Maps, and Theorems: Effective Communication for Rational Minds</em>. Principiae. <a href="https://books.google.com/books?id=O2dFPgAACAAJ">https://books.google.com/books?id=O2dFPgAACAAJ</a>.
</div>
<div id="ref-Doumont2002" class="csl-entry" role="listitem">
Doumont, Jean L. 2002. <span>“The Three Laws of Professional Communication.”</span> <em>IEEE Transactions on Professional Communication</em> 45 (4): 291–96. <a href="https://doi.org/10.1109/TPC.2002.805164">https://doi.org/10.1109/TPC.2002.805164</a>.
</div>
<div id="ref-Duke2015" class="csl-entry" role="listitem">
Duke, Susan P., Fabrice Bancken, Brenda Crowe, Mat Soukup, Taxiarchis Botsis, and Richard Forshee. 2015. <span>“Seeing Is Believing: Good Graphic Design Principles for Medical Research.”</span> <em>Statistics in Medicine</em> 34 (22): 3040–59. <a href="https://doi.org/10.1002/sim.6549">https://doi.org/10.1002/sim.6549</a>.
</div>
<div id="ref-Few:2012" class="csl-entry" role="listitem">
Few, Stephen. 2012. <em>Show Me the Numbers: Designing Tables and Graphs to Enlighten</em>. 2nd ed. USA: Analytics Press.
</div>
<div id="ref-Gelman2013" class="csl-entry" role="listitem">
Gelman, Andrew, and Antony Unwin. 2013. <span>“Infovis and Statistical Graphics: Different Goals, Different Looks.”</span> <em>Journal of Computational and Graphical Statistics</em> 22 (1): 2–28. <a href="https://doi.org/10.1080/10618600.2012.761137">https://doi.org/10.1080/10618600.2012.761137</a>.
</div>
<div id="ref-Heer:2010" class="csl-entry" role="listitem">
Heer, Jeffrey, and Michael Bostock. 2010. <span>“Crowdsourcing Graphical Perception: Using Mechanical Turk to Assess Visualization Design.”</span> In <em>Proceedings of the SIGCHI Conference on Human Factors in Computing Systems</em>, 203–12. CHI ’10. New York, NY, USA: ACM. <a href="https://doi.org/10.1145/1753326.1753357">https://doi.org/10.1145/1753326.1753357</a>.
</div>
<div id="ref-munzner2015visualization" class="csl-entry" role="listitem">
Munzner, Tamara. 2015. <em>Visualization Analysis and Design</em>. AK Peters Visualization Series. CRC Press. <a href="https://books.google.de/books?id=NfkYCwAAQBAJ">https://books.google.de/books?id=NfkYCwAAQBAJ</a>.
</div>
<div id="ref-Robbins2012" class="csl-entry" role="listitem">
Robbins, Naomi B. 2012. <em>Creating More Effective Graphs</em>. Wiley. <a href="https://www.amazon.com/Creating-Effective-Graphs-Naomi-Robbins/dp/0985911123">https://www.amazon.com/Creating-Effective-Graphs-Naomi-Robbins/dp/0985911123</a>.
</div>
<div id="ref-Tufte1986" class="csl-entry" role="listitem">
Tufte, Edward R. 1986. <em>The Visual Display of Quantitative Information</em>. Cheshire, CT, USA: Graphics Press.
</div>
<div id="ref-Tufte1997" class="csl-entry" role="listitem">
———. 1997. <em>Visual Explanations: Images and Quantities, Evidence and Narrative</em>. Cheshire, CT, USA: Graphics Press.
</div>
<div id="ref-tukey77" class="csl-entry" role="listitem">
Tukey, John W. 1977. <em>Exploratory Data Analysis</em>. Addison-Wesley.
</div>
<div id="ref-Wainer1984" class="csl-entry" role="listitem">
Wainer, Howard. 1984. <span>“How to Display Data Badly.”</span> <em>The American Statistician</em> 38 (2): 137–47. <a href="https://doi.org/10.1080/00031305.1984.10483186">https://doi.org/10.1080/00031305.1984.10483186</a>.
</div>
<div id="ref-Ware:2004" class="csl-entry" role="listitem">
Ware, Colin. 2004. <em>Information Visualization: Perception for Design</em>. San Francisco, CA, USA: Morgan Kaufmann Publishers Inc.
</div>
<div id="ref-Wilkinson:2005" class="csl-entry" role="listitem">
Wilkinson, Leland. 2005. <em>The Grammar of Graphics (Statistics and Computing)</em>. Berlin, Heidelberg: Springer-Verlag.
</div>
<div id="ref-Wong2010PointsOV" class="csl-entry" role="listitem">
Wong, Bang. 2010. <span>“Points of View: Gestalt Principles (Part 1).”</span> <em>Nature Methods</em> 7: 863–63.
</div>
<div id="ref-Wong2010" class="csl-entry" role="listitem">
———. 2011. <span>“Points of View: Simplify to Clarify.”</span> <em>Nature Methods</em> 8 (8): 611. <a href="https://www.nature.com/articles/nmeth.1660">https://www.nature.com/articles/nmeth.1660</a>.
</div>
<div id="ref-wong2010wall" class="csl-entry" role="listitem">
Wong, D. M. 2010. <em>The Wall Street Journal Guide to Information Graphics: The Dos and Don’ts of Presenting Data, Facts, and Figures</em>. W.W. Norton &amp; Company. <a href="https://books.google.com/books?id=RmaJPgAACAAJ">https://books.google.com/books?id=RmaJPgAACAAJ</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">This page is built with <a href="https://quarto.org/">Quarto</a>.</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>